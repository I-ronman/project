:root{
  --bg:#0e0e0e; --panel:#141414; --bubble:#2c2c2c; --brand:#f5ff00;
  --text:#eaeaea; --muted:#9a9a9a; --stroke:#222;
}

/* 전체 레이아웃 */
.coach-layout {
  display:flex; gap:16px; padding:20px;
  height:calc(100vh - 64px); /* 헤더 높이만큼 보정 */
  background:#000;
}
.coach-panel {
  width:320px; background:var(--panel); color:var(--text);
  border-radius:12px; padding:16px; overflow:auto;
}
.chat-surface { flex:1; display:flex; flex-direction:column; min-width:0; }
.chat-topbar {
  height:48px; display:flex; align-items:center; justify-content:center;
  color:#ddd; border-bottom:1px solid var(--stroke);
  background:#0f0f0f; border-radius:12px 12px 0 0;
}

/* 패널 */
.panel-card { background:#111; border:1px solid #1f1f1f; border-radius:12px; padding:14px; margin-bottom:12px; }
.panel-title { font-weight:700; margin-bottom:8px; }
.goals { margin:0 0 8px 16px; }
.panel-actions { display:flex; gap:8px; }
.chips { display:flex; flex-wrap:wrap; gap:8px; }
.chip { background:#2b2b2b; color:#fff; border:none; padding:6px 10px; border-radius:999px; cursor:pointer; }

/* 대화 피드 */
.chat-feed {
  flex:1; overflow:auto; padding:16px; background:var(--bg);
  border:1px solid #1f1f1f; border-top:none; border-radius:0 0 12px 12px;
  scroll-behavior:smooth;
}
.bubble {
  max-width:70%; padding:10px 14px; border-radius:16px; margin:8px 0; line-height:1.5;
}
.bubble.bot { background:var(--bubble); color:var(--text); }
.bubble.user { background:var(--brand); color:#000; margin-left:auto; }

/* 카드형 응답 */
.bot-card { background:#131313; border:1px solid #242424; border-radius:14px; padding:14px; margin:12px 0; }
.card-head h4 { margin:0 0 4px; color:#fff; }
.card-list { margin:8px 0 12px 16px; color:#ddd; }
.card-actions { display:flex; gap:8px; flex-wrap:wrap; }
.btn { background:#2b2b2b; color:#fff; border:none; padding:8px 12px; border-radius:10px; cursor:pointer; }
.btn-brand { background:var(--brand); color:#000; font-weight:700; }

/* 입력 영역 */
.composer { border-top:1px solid #1f1f1f; background:#0f0f0f; padding:10px; border-radius:0 0 12px 12px; }
.quickchips { display:flex; gap:8px; margin-bottom:8px; overflow:auto; }
.composer-row { display:flex; gap:8px; }
.composer-row input {
  flex:1; padding:10px; border-radius:10px; border:1px solid #262626;
  background:#171717; color:var(--text); font-size:14px;
}

/* 타이핑 인디케이터 */
.typing { display:flex; gap:4px; margin:8px 0; }
.typing i { width:6px; height:6px; background:#555; border-radius:50%; display:block; animation:bounce 1s infinite ease-in-out; }
.typing i:nth-child(2){ animation-delay:.15s } .typing i:nth-child(3){ animation-delay:.3s }
@keyframes bounce { 0%,80%,100%{ transform:scale(0.6); opacity:.5 } 40%{ transform:scale(1); opacity:1 } }

/* 스크롤바 커스텀 */
.chat-feed::-webkit-scrollbar { width:10px; }
.chat-feed::-webkit-scrollbar-track { background:#141414; }
.chat-feed::-webkit-scrollbar-thumb { background:#2f2f2f; border-radius:12px; border:2px solid #141414; }
.chat-feed::-webkit-scrollbar-thumb:hover { background:#444; }
.chat-feed { scrollbar-width:thin; scrollbar-color:#2f2f2f #141414; }

/* 반응형 */
@media (max-width:1024px){
  .coach-panel{ display:none; }
  .coach-layout{ padding:12px; }
  .chat-topbar{ border-radius:12px 12px 0 0; }
}

.routine-action-bar{position:sticky;bottom:8px;z-index:5;display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px 12px;border-radius:12px;background:rgba(17,24,39,.9);border:1px solid rgba(255,255,255,.08);box-shadow:0 8px 24px rgba(0,0,0,.45);color:#e5e7eb;margin:10px 0}
.routine-action-bar .info{display:flex;align-items:center;gap:8px;font-size:14px}
.routine-action-bar .actions{display:flex;gap:8px}
.routine-action-bar .btn{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:#1f2937;color:#fff;cursor:pointer}
.routine-action-bar .btn.btn-brand{background:#10b981;border-color:#10b981;color:#0b1b14;font-weight:600}
.routine-action-bar .btn:disabled{opacity:.6;cursor:default}
